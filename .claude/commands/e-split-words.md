---
description: words.mdを複数のwords_XX.mdファイルに分割
---

# 単語ファイル分割

words.mdファイル（単語一覧）を複数のwords_XX.mdファイルに分割します。1ファイルあたり7語以内。

## 引数

- `$ARGUMENTS`: wordsフォルダパス（例: `datas/english/grade3/unit_06/quiz/words`）

---

## ステップ1: ファイル確認

### 1.1 words.mdの存在確認

```bash
ls -la [フォルダパス]/words.md
```

### 1.2 ファイル内容の読み取り

words.mdを読み取り、構造を確認。

**想定される形式**:
```markdown
### **1. カテゴリ名1**
説明文（省略可）

*   **単語1**：日本語訳1（補足説明）
*   **単語2**：日本語訳2
...

### **2. カテゴリ名2**
...
```

---

## ステップ2: 単語の抽出・グループ化

### 2.1 抽出ルール

1. `### **N. カテゴリ名**` → カテゴリ名として抽出
2. `*   **単語**：日本語訳` → 単語情報として抽出
3. 補足説明（括弧内や※以降）は保持

### 2.2 解析パターン

**パターンA: 単純な単語**
```
*   **donate**：･･･を寄付する
```
→ 抽出結果:
- 英語: donate
- 日本語: ･･･を寄付する

**パターンB: 補足付き単語**
```
*   **supply**：供給、必需品（※教科書では複数形 **supplies** で「学校の必需品」として使われることが多い）
```
→ 抽出結果:
- 英語: supply
- 日本語: 供給、必需品
- 補足: 教科書では複数形 supplies で「学校の必需品」として使われることが多い

**パターンC: 熟語・派生語の注記**
```
*   **depend**：頼る（※ **depend on** 「〜に頼る・依存する」が重要熟語）
```
→ 抽出結果:
- 英語: depend
- 日本語: 頼る
- 補足: depend on 「〜に頼る・依存する」が重要熟語

### 2.3 グループ化

1. 同じカテゴリの単語は連続して配置
2. 1ファイルあたり最大7語
3. カテゴリが途中で分割される場合は「（続き）」を付与

---

## ステップ3: ファイル生成

### 3.1 出力形式

**words_XX.md**:
```markdown
# カテゴリ名

単語1
日本語訳1
補足説明1（あれば）

単語2
日本語訳2

単語3
日本語訳3
補足説明3（あれば）

...
```

### 3.2 ファイル番号の決定

- 既存のwords_XX.mdファイルがある場合: 最大番号+1から開始
- ない場合: 01から開始

```bash
# 既存ファイルの確認
ls [フォルダパス]/words_*.md 2>/dev/null | sort -V | tail -1
```

### 3.3 ファイル生成

各グループに対してwords_XX.mdを生成。

**例**: 35語あった場合
- words_01.md: 7語（カテゴリ1）
- words_02.md: 7語（カテゴリ1続き + カテゴリ2）
- words_03.md: 7語（カテゴリ2続き）
- words_04.md: 7語（カテゴリ3）
- words_05.md: 7語（カテゴリ4 + カテゴリ5）

---

## ステップ4: 完了報告

```
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
## 分割完了

元ファイル: [フォルダパス]/words.md
総単語数: [N]語

生成ファイル:
| ファイル | 単語数 | カテゴリ |
|---------|--------|---------|
| words_01.md | 7 | カテゴリ1 |
| words_02.md | 7 | カテゴリ1（続き）+ カテゴリ2 |
| words_03.md | 6 | カテゴリ3 |
...

### 次のステップ
1. 生成されたファイルを確認・必要に応じて編集
2. `/e-prepare [フォルダパス]` で音声準備
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
```

---

## 補足: カテゴリ名の正規化

元のカテゴリ名を簡潔にする:

| 元のカテゴリ名 | 正規化後 |
|--------------|---------|
| 国際協力・社会問題に関する重要語句 | 国際協力・社会問題 |
| 世界・場所・つながりを表す語句 | 世界・場所・つながり |
| 動作・状態を表す動詞・形容詞 | 動詞・形容詞 |
| 文をつなぐ・強調する重要熟語・副詞 | 熟語・副詞 |

---

## 注意事項

- words.mdは削除せず保持
- 熟語（例: `so far`, `in fact`）は1単語としてカウント
- 例文付きの熟語は補足として保持
