---
description: 英単語クイズ動画作成ワークフロー（全体ガイド）
---

# 英単語クイズ動画作成

words_num.mdファイルから英単語一問一答動画を作成するワークフローです。

## 引数

- `$ARGUMENTS`: wordsフォルダパス（例: `datas/english/grade2/unit_06/quiz/words`）

---

## 概要

### フォルダ構造

```
[wordsフォルダ]/
├── words.md              # 概要（オプション）
├── words_01.md           # 単語リスト1
├── words_06.md           # 単語リスト2
├── words_07.md           # ...
├── qa.md                 # 生成: 統合版
├── qa_en.md              # 生成: 英単語リスト（音声作成用）
├── qa_ja.md              # 生成: 日本語訳リスト（音声作成用）
├── audios/
│   ├── en/               # 英語音声（自動生成）
│   │   ├── 00-words.wav
│   │   ├── 01-words.wav
│   │   └── ...
│   └── ja/               # 日本語音声（ユーザー作成）
│       ├── 00-words.wav
│       ├── 01-words.wav
│       └── ...
├── qas-IchimonIttoData.tsx  # 生成: データファイル
├── qas-output.mp4           # 生成: 動画
├── qas-post_youtube.txt     # 生成: YouTube紹介文
└── qas-post_instagram.txt   # 生成: Instagram紹介文
```

### words_num.md の形式

**パターン1: 単純な単語**
```
# カテゴリ名

英単語
日本語訳

英単語
日本語訳
```

**パターン2: 比較級・最上級**
```
# タイトル

原級 - 比較級 - 最上級
日本語訳（ルール説明）
```

---

## ワークフロー

### ステップ1: 準備
```bash
/e-prepare [wordsフォルダ]
```

実行内容:
1. words_num.md ファイルを検索
2. 3つのファイルを生成:
   - `qa.md` - 統合版（英単語と日本語訳のペア）
   - `qa_en.md` - 英単語リスト（音声作成用）
   - `qa_ja.md` - 日本語訳リスト（音声作成用）
3. **英語音声を自動生成** → `audios/en/`（edge-tts使用）
4. 日本語音声ファイルリストを出力

### ステップ2: 日本語音声作成

VOICEPEAKなどで**日本語音声のみ**作成し、`audios/ja/` に配置。

**ファイル構造**:
```
audios/
├── en/               # 英語音声（自動生成済み）
│   ├── 00-words.wav  # 英単語1
│   ├── 01-words.wav  # 英単語2
│   └── ...
└── ja/               # 日本語音声（ユーザーが作成）
    ├── 00-words.wav  # 日本語訳1
    ├── 01-words.wav  # 日本語訳2
    └── ...
```

※ 英語と日本語は同じ番号が対応（00同士がペア）

### ステップ3: レンダリング
```bash
/e-render [wordsフォルダ]
```

実行内容:
1. 音声ファイルの長さを取得
2. IchimonIttoData.tsx を生成
3. 動画をレンダリング
4. 紹介文を生成

---

## コマンド一覧

| コマンド | 説明 |
|---------|------|
| `/e-prepare [wordsフォルダ]` | qa.md生成、英語音声自動生成、日本語音声リスト出力 |
| `/e-render [wordsフォルダ]` | 動画レンダリング、紹介文生成 |

---

## 使用例

```bash
# 準備（英語音声は自動生成される）
/e-prepare datas/english/grade2/unit_06/quiz/words

# 日本語音声ファイルを audios/ja/ に配置後
/e-render datas/english/grade2/unit_06/quiz/words
```

---

## 音声生成について

### 英語音声（自動）
- **フォルダ**: `audios/en/`
- **ツール**: edge-tts（Microsoft Edge TTS）
- **声**: en-US-AriaNeural
- **番号**: 0からの通し番号（00, 01, 02...）

### 日本語音声（手動）
- **フォルダ**: `audios/ja/`
- **推奨ツール**: VOICEPEAK
- **形式**: WAV（48000Hz, 16bit, モノラル推奨）
- **番号**: 英語と同じ番号（00, 01, 02...）

---

## 表示仕様（英単語クイズ専用）

英単語クイズでは以下の表示仕様が適用されます:

| 項目 | 英単語クイズ | 歴史等のクイズ |
|------|-------------|---------------|
| 問題番号 | タイトル下に「2/7」形式 | 問題文の前に「Q2.」 |
| 問題文 | 英単語のみ | Q○. + 問題文 |

※ `subject: "english"` の場合に自動で切り替わります
